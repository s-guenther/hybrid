siggeneric.fcn = @(t) 0;
siggeneric.amplitude = 1;
siggeneric.period = 2*pi;

sigsquare = siggeneric;
sigsquare.fcn = @square;

sigtrapz = siggeneric;
sigtrapz.fcn = @(t) interp1([0 0.2 1 1.8 2 2.2 3 3.8 4]*2*pi/4, ...
                            [0 1 1 1 0 -1 -1 -1 0], ...
                            mod(t, 2*pi), ...
                            'linear');

sigsin = siggeneric;
sigsin.fcn = @sin;

sigtri = siggeneric;
sigtri.fcn = @(t) interp1([0 1 2 3 4]*2*pi/4, ...
                          [0 1 0 -1 0], ...
                          mod(t, 2*pi), ...
                          'linear');

sigdist = siggeneric;
sigdist.fcn = @(t) interp1([0 0.5 1 1.5 2 2.5 3 3.5 4]*2*pi/4, ...
                           [0 0.2 1 0.2 0 -0.2 -1 -0.2 0], ...
                           mod(t, 2*pi), ...
                           'linear');

sighigh = siggeneric;
sighigh.fcn = @(t) interp1([0 0.9 1 1.1 2 2.9 3 3.1 4]*2*pi/4, ...
                           [0 0.05 1 0.05 0 -0.05 -1 -0.05 0], ...
                           mod(t, 2*pi), ...
                           'linear');



ressquare = main(sigsquare);
title('square')
valssquare = ressquare.hybrid_table(:, [3, 5]);
[square_form, square_crest, square_rms, square_arv, ~] = ...
                                            signal_parameters(sigsquare);

annotation('textbox', [0.6, 0.4, 0.1, 0.1], ...
           'String', num2str(valssquare), ...
           'FitBoxToText', 'on')

varnames = ['Form    '; 'Crest   '; 'RMS     '; 'ARV     '];
varvalsstr = num2str([square_form, square_crest, square_rms, square_arv]');
annotation('textbox', [0.3, 0.7, 0.1, 0.1], ...
           'String', varnames, ...
           'FitBoxToText', 'on')
annotation('textbox', [0.4, 0.7, 0.1, 0.1], ...
           'String', varvalsstr, ...
           'FitBoxToText', 'on')



restrapz = main(sigtrapz);
title('trapezodial')
valstrapz = restrapz.hybrid_table(:, [3, 5]);
[trapz_form, trapz_crest, trapz_rms, trapz_arv, ~] = ...
                                            signal_parameters(sigtrapz);

annotation('textbox', [0.6, 0.4, 0.1, 0.1], ...
           'String', num2str(valstrapz), ...
           'FitBoxToText', 'on')

varvalsstr = num2str([trapz_form, trapz_crest, trapz_rms, trapz_arv]');
annotation('textbox', [0.3, 0.7, 0.1, 0.1], ...
           'String', varnames, ...
           'FitBoxToText', 'on')
annotation('textbox', [0.4, 0.7, 0.1, 0.1], ...
           'String', varvalsstr, ...
           'FitBoxToText', 'on')



ressin = main(sigsin);
title('sin')
valssin = ressin.hybrid_table(:, [3, 5]);
[sin_form, sin_crest, sin_rms, sin_arv, ~] = signal_parameters(sigsin);

annotation('textbox', [0.6, 0.4, 0.1, 0.1], ...
           'String', num2str(valssin), ...
           'FitBoxToText', 'on')

varvalsstr = num2str([sin_form, sin_crest, sin_rms, sin_arv]');
annotation('textbox', [0.3, 0.7, 0.1, 0.1], ...
           'String', varnames, ...
           'FitBoxToText', 'on')
annotation('textbox', [0.4, 0.7, 0.1, 0.1], ...
           'String', varvalsstr, ...
           'FitBoxToText', 'on')



restri = main(sigtri);
title('triangle')
valstri = restri.hybrid_table(:, [3, 5]);
[tri_form, tri_crest, tri_rms, tri_arv, ~] = signal_parameters(sigtri);

annotation('textbox', [0.6, 0.4, 0.1, 0.1], ...
           'String', num2str(valstri), ...
           'FitBoxToText', 'on')

varvalsstr = num2str([tri_form, tri_crest, tri_rms, tri_arv]');
annotation('textbox', [0.3, 0.7, 0.1, 0.1], ...
           'String', varnames, ...
           'FitBoxToText', 'on')
annotation('textbox', [0.4, 0.7, 0.1, 0.1], ...
           'String', varvalsstr, ...
           'FitBoxToText', 'on')



resdist = main(sigdist);
title('distorted')
valsdist = resdist.hybrid_table(:, [3, 5]);
[dist_form, dist_crest, dist_rms, dist_arv, ~] = signal_parameters(sigdist);

annotation('textbox', [0.6, 0.4, 0.1, 0.1], ...
           'String', num2str(valsdist), ...
           'FitBoxToText', 'on')

varvalsstr = num2str([dist_form, dist_crest, dist_rms, dist_arv]');
annotation('textbox', [0.3, 0.7, 0.1, 0.1], ...
           'String', varnames, ...
           'FitBoxToText', 'on')
annotation('textbox', [0.4, 0.7, 0.1, 0.1], ...
           'String', varvalsstr, ...
           'FitBoxToText', 'on')



reshigh = main(sighigh);
title('highly distorted')
valshigh = reshigh.hybrid_table(:, [3, 5]);
[high_form, high_crest, high_rms, high_arv, ~] = signal_parameters(sighigh);

annotation('textbox', [0.6, 0.4, 0.1, 0.1], ...
           'String', num2str(valshigh), ...
           'FitBoxToText', 'on')

varvalsstr = num2str([high_form, high_crest, high_rms, high_arv]');
annotation('textbox', [0.3, 0.7, 0.1, 0.1], ...
           'String', varnames, ...
           'FitBoxToText', 'on')
annotation('textbox', [0.4, 0.7, 0.1, 0.1], ...
           'String', varvalsstr, ...
           'FitBoxToText', 'on')

